@media screen and (max-width: 767px) {
    /* Stack modal sections vertically */
    #customizeModal .modal-body {
        flex-direction: column;
        /* Remove scrolling from modal body on mobile and keep layout intact */
        overflow-y: hidden;
    }

    /* Sidebar buttons row at top */
    #customizeModal .modal-sidebar {
        flex-direction: row;
        justify-content: space-around;
        width: 100%;
        padding: 10px 0;
    }

    /* Variant selection sidebar full width */
    #product-sidebar {
        width: 100%;
        height: auto;
    }

    /* Visual zone below sidebars */
    #customizeModal .visual-zone {
        width: 100%;
        flex-grow: 1; /* Take remaining space within the modal body */
        height: 100%;
        /* Allow visual zone to handle scrolling */
        overflow-y: auto;
    }

    /* Display 2D/3D containers vertically */
    #customizeModal .visual-containers {
        flex-direction: column;
        padding: 10px;
        height: auto; /* allow 2D and 3D containers to size naturally */
    }

    #product2DContainer,
    #product3DContainer {
        width: 100%;
        max-width: 100%;
    }

    #product3DContainer {
        height: auto; /* override desktop 100% height */
        aspect-ratio: 1; /* square based on width */
    }

    #product3DContainer canvas {
        width: 100%;
        height: 100%;
        display: block;
    }
}
